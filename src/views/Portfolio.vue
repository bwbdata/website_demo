<script setup lang="ts">
import { ref } from 'vue'

interface Project {
  id: number
  title: string
  category: string
  description: string
  image: string
  tags: string[]
  link?: string
}

const categories = ref(['å…¨éƒ¨', 'ç½‘ç«™å¼€å‘', 'APPå¼€å‘', 'å°ç¨‹åº', 'å…¶ä»–'])
const activeCategory = ref('å…¨éƒ¨')

const projects = ref<Project[]>([
  {
    id: 1,
    title: 'é»‘ç™½èœ‚å¥åº·',
    category: 'ç½‘ç«™å¼€å‘',
    description: 'ä¸“ä¸šçš„å¥åº·ç®¡ç†å¹³å°ï¼Œæä¾›å¥åº·å’¨è¯¢ã€ä½“æ£€é¢„çº¦ã€å¥åº·æ¡£æ¡ˆç®¡ç†ç­‰åŠŸèƒ½',
    image: 'ğŸ¥',
    tags: ['Vue 3', 'TypeScript', 'å¥åº·ç®¡ç†'],
    link: 'https://bwb-health.netlify.app/'
  },
  {
    id: 2,
    title: 'é»‘ç™½èœ‚æ‘„å½±',
    category: 'ç½‘ç«™å¼€å‘',
    description: 'ç²¾ç¾çš„æ‘„å½±ä½œå“å±•ç¤ºå¹³å°ï¼Œæ”¯æŒä½œå“åˆ†ç±»ã€åœ¨çº¿é¢„çº¦ã€æ‘„å½±æœåŠ¡ç­‰åŠŸèƒ½',
    image: 'ğŸ“·',
    tags: ['Vue 3', 'TypeScript', 'ä½œå“å±•ç¤º'],
    link: 'https://bwb-photo.netlify.app/'
  },
  {
    id: 3,
    title: 'ä¼ä¸šå®˜ç½‘è®¾è®¡',
    category: 'ç½‘ç«™å¼€å‘',
    description: 'ä¸ºæŸç§‘æŠ€å…¬å¸æ‰“é€ çš„ç°ä»£åŒ–ä¼ä¸šå®˜ç½‘ï¼Œé‡‡ç”¨å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒå¤šç«¯è®¿é—®',
    image: 'ğŸ¢',
    tags: ['Vue 3', 'TypeScript', 'å“åº”å¼è®¾è®¡']
  },
  {
    id: 4,
    title: 'ç”µå•†å¹³å°å¼€å‘',
    category: 'ç½‘ç«™å¼€å‘',
    description: 'å®Œæ•´çš„ç”µå•†è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«å•†å“ç®¡ç†ã€è®¢å•ç³»ç»Ÿã€æ”¯ä»˜é›†æˆç­‰åŠŸèƒ½',
    image: 'ğŸ›’',
    tags: ['React', 'Node.js', 'å¾®ä¿¡æ”¯ä»˜']
  },
  {
    id: 5,
    title: 'å¥èº«APP',
    category: 'APPå¼€å‘',
    description: 'iOSå’ŒAndroidåŒå¹³å°å¥èº«åº”ç”¨ï¼Œæä¾›è®­ç»ƒè®¡åˆ’ã€æ•°æ®è¿½è¸ªç­‰åŠŸèƒ½',
    image: 'ğŸ’ª',
    tags: ['React Native', 'iOS', 'Android']
  },
  {
    id: 6,
    title: 'å¤–å–é…é€APP',
    category: 'APPå¼€å‘',
    description: 'å®æ—¶å®šä½ã€è®¢å•ç®¡ç†ã€éª‘æ‰‹è°ƒåº¦ç³»ç»Ÿçš„å®Œæ•´å¤–å–é…é€è§£å†³æ–¹æ¡ˆ',
    image: 'ğŸš´',
    tags: ['Flutter', 'åœ°å›¾API', 'å®æ—¶é€šä¿¡']
  },
  {
    id: 7,
    title: 'åœ¨çº¿æ•™è‚²å°ç¨‹åº',
    category: 'å°ç¨‹åº',
    description: 'å¾®ä¿¡å°ç¨‹åºåœ¨çº¿æ•™è‚²å¹³å°ï¼Œæ”¯æŒè§†é¢‘è¯¾ç¨‹ã€ç›´æ’­ã€ä½œä¸šæäº¤ç­‰åŠŸèƒ½',
    image: 'ğŸ“š',
    tags: ['å¾®ä¿¡å°ç¨‹åº', 'è§†é¢‘æ’­æ”¾', 'ç›´æ’­']
  },
  {
    id: 8,
    title: 'é¤é¥®ç‚¹é¤å°ç¨‹åº',
    category: 'å°ç¨‹åº',
    description: 'æ‰«ç ç‚¹é¤ã€åœ¨çº¿æ”¯ä»˜ã€ä¼šå‘˜ç®¡ç†çš„æ™ºèƒ½é¤é¥®å°ç¨‹åº',
    image: 'ğŸ½ï¸',
    tags: ['å¾®ä¿¡å°ç¨‹åº', 'æ”¯ä»˜', 'ä¼šå‘˜ç³»ç»Ÿ']
  },
  {
    id: 9,
    title: 'æ™ºèƒ½å®¶å±…æ§åˆ¶ç³»ç»Ÿ',
    category: 'å…¶ä»–',
    description: 'ç‰©è”ç½‘æ™ºèƒ½å®¶å±…æ§åˆ¶å¹³å°ï¼Œæ”¯æŒå¤šè®¾å¤‡è”åŠ¨å’Œè¿œç¨‹æ§åˆ¶',
    image: 'ğŸ ',
    tags: ['IoT', 'WebSocket', 'å®æ—¶æ§åˆ¶']
  },
  {
    id: 10,
    title: 'æ•°æ®å¯è§†åŒ–å¤§å±',
    category: 'å…¶ä»–',
    description: 'ä¼ä¸šæ•°æ®å¯è§†åŒ–å±•ç¤ºå¤§å±ï¼Œå®æ—¶æ•°æ®æ›´æ–°å’Œå¤šç»´åº¦åˆ†æ',
    image: 'ğŸ“Š',
    tags: ['ECharts', 'WebSocket', 'æ•°æ®å¯è§†åŒ–']
  }
])

const filteredProjects = ref<Project[]>(projects.value)

const filterProjects = (category: string) => {
  activeCategory.value = category
  if (category === 'å…¨éƒ¨') {
    filteredProjects.value = projects.value
  } else {
    filteredProjects.value = projects.value.filter(p => p.category === category)
  }
}
</script>

<template>
  <div class="portfolio">
    <section class="section">
      <div class="container">
        <!-- åˆ†ç±»ç­›é€‰ -->
        <div class="category-filter">
          <button
            v-for="category in categories"
            :key="category"
            class="category-btn"
            :class="{ active: activeCategory === category }"
            @click="filterProjects(category)"
          >
            {{ category }}
          </button>
        </div>

        <!-- é¡¹ç›®ç½‘æ ¼ -->
        <div class="projects-grid">
          <a
            v-for="project in filteredProjects"
            :key="project.id"
            :href="project.link"
            :target="project.link ? '_blank' : undefined"
            :rel="project.link ? 'noopener noreferrer' : undefined"
            class="project-card card scale-in"
            :class="{ 'has-link': project.link }"
          >
            <div class="project-image">
              <div class="project-emoji">{{ project.image }}</div>
              <div class="project-overlay">
                <button class="view-btn">{{ project.link ? 'è®¿é—®ç½‘ç«™' : 'æŸ¥çœ‹è¯¦æƒ…' }}</button>
              </div>
            </div>
            <div class="project-content">
              <div class="project-category">{{ project.category }}</div>
              <h3 class="project-title">{{ project.title }}</h3>
              <p class="project-description">{{ project.description }}</p>
              <div class="project-tags">
                <span v-for="tag in project.tags" :key="tag" class="tag">
                  {{ tag }}
                </span>
              </div>
            </div>
          </a>
        </div>

        <!-- ç©ºçŠ¶æ€ -->
        <div v-if="filteredProjects.length === 0" class="empty-state">
          <div class="empty-icon">ğŸ“­</div>
          <p class="empty-text">æš‚æ— ç›¸å…³æ¡ˆä¾‹</p>
        </div>
      </div>
    </section>

    <!-- åˆä½œå“ç‰Œ -->
    <section class="brands-section section">
      <div class="container">
        <h2 class="section-title">åˆä½œä¼™ä¼´</h2>
        <p class="section-subtitle">æ„Ÿè°¢ä»¥ä¸‹ä¼ä¸šçš„ä¿¡ä»»ä¸æ”¯æŒ</p>

        <div class="brands-grid">
          <div v-for="i in 8" :key="i" class="brand-item">
            <div class="brand-logo">ğŸ¢</div>
            <div class="brand-name">åˆä½œä¼ä¸š {{ i }}</div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<style scoped>
.portfolio {
  padding-top: 70px;
}

.portfolio-header {
  padding: 6rem 0 4rem;
  background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
  text-align: center;
  border-bottom: 1px solid var(--border-color);
}

.page-title {
  font-size: 3rem;
  font-weight: 800;
  margin-bottom: 1rem;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.page-description {
  font-size: 1.25rem;
  color: var(--text-secondary);
}

/* åˆ†ç±»ç­›é€‰ */
.category-filter {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 3rem;
  flex-wrap: wrap;
}

.category-btn {
  padding: 0.75rem 1.5rem;
  border: 2px solid var(--border-color);
  background: var(--bg-card);
  color: var(--text-secondary);
  border-radius: 50px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.category-btn:hover {
  border-color: var(--accent-primary);
  color: var(--accent-primary);
}

.category-btn.active {
  background: var(--accent-gradient);
  border-color: transparent;
  color: white;
}

/* é¡¹ç›®ç½‘æ ¼ */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 2rem;
}

.project-card {
  overflow: hidden;
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  display: block;
}

.project-card.has-link:hover {
  transform: translateY(-8px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
}

.project-image {
  position: relative;
  height: 200px;
  background: var(--bg-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.project-emoji {
  font-size: 5rem;
  transition: transform 0.3s ease;
}

.project-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(59, 130, 246, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.project-card:hover .project-overlay {
  opacity: 1;
}

.project-card:hover .project-emoji {
  transform: scale(1.1);
}

.view-btn {
  padding: 0.75rem 2rem;
  background: white;
  color: var(--accent-primary);
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.view-btn:hover {
  transform: scale(1.05);
}

.project-content {
  padding: 1.5rem;
}

.project-category {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  background: var(--bg-secondary);
  color: var(--accent-primary);
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: 600;
  margin-bottom: 1rem;
}

.project-title {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 0.75rem;
}

.project-description {
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: 1rem;
  font-size: 0.95rem;
}

.project-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.tag {
  padding: 0.25rem 0.75rem;
  background: var(--bg-secondary);
  color: var(--text-secondary);
  border-radius: 4px;
  font-size: 0.875rem;
}

/* ç©ºçŠ¶æ€ */
.empty-state {
  text-align: center;
  padding: 4rem 0;
}

.empty-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.empty-text {
  font-size: 1.125rem;
  color: var(--text-secondary);
}

/* åˆä½œå“ç‰Œ */
.brands-section {
  background: var(--bg-secondary);
}

.brands-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 2rem;
}

.brand-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.75rem;
  padding: 2rem;
  background: var(--bg-card);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  transition: all 0.3s ease;
}

.brand-item:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
}

.brand-logo {
  font-size: 3rem;
  opacity: 0.6;
}

.brand-name {
  font-size: 0.875rem;
  color: var(--text-secondary);
  font-weight: 600;
}

/* å“åº”å¼ */
@media (max-width: 768px) {
  .page-title {
    font-size: 2rem;
  }

  .page-description {
    font-size: 1rem;
  }

  .projects-grid {
    grid-template-columns: 1fr;
  }

  .brands-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
</style>
